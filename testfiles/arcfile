#!/usr/bin/arcana

import Defaults.arc;


###########################
# BUILT-IN TASKS
###########################

@public
@precompiler 1
task Clean(BUILD1 BUILD2)
{
    rm BUILD1 BUILD2 
}

@public
@always
@dependecy Clean Build
task Install(TARGET)
{
    mv TARGET /usr/bin/  
}

###########################
# OVERRIDED BUILT-IN TASKS
###########################

@public
task Build()
{
    COMPILER FLAGS SOURCE -o TARGET
}


###########################
# PRE BUILD TASKS
###########################

using precompiler Pre_Task2 Pre_Task1;

@precompiler
task Pre_Task1() 
{
    mkdir BUILD
    mkdir test
}

@precompiler
task Pre_Task2() 
{
    mkdir BUILD
    mkdir test
}


###########################
# POST BUILD TASKS
###########################

@private
@callable
@postcompiler 1
task Say_Something(msg) { echo msg }

###########################
# POST BUILD TASKS CALL
###########################

Say_Something('All Done!');